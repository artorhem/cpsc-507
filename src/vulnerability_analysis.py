from snakefood.util import iter_pyfiles, setup_logging, def_ignores
from snakefood.find import find_imports

def get_dependencies(path):
    """
    Retrieves all dependencies from the projects located at `path`
    :param path: project path
    :return: list of dependencies
    """
    all_symnames = set()
    for fn in iter_pyfiles([path], None):
        all_symnames.update(x[0] for x in find_imports(fn, True, []) if not x[2])

    return all_symnames
